<div class="container mt-5">
  <div class="card border-0 shadow-lg rounded-4 p-4 bg-glass mx-auto" style="max-width: 700px;">
    <h2 class="text-center text-gradient mb-4">ğŸ“ Create Your MindVista Account</h2>

    <!-- Step 1: Select Role -->
    <div *ngIf="!selectedRole" class="text-center mb-4">
      <p class="fs-5 fw-semibold">Please select your registration type:</p>
      <div class="d-grid gap-3">
        <button class="btn btn-outline-primary btn-lg shadow-sm role-btn" (click)="selectRole('client')">
          ğŸ™‹â€â™‚ï¸ Register as Client
        </button>
        <button class="btn btn-outline-success btn-lg shadow-sm role-btn" (click)="selectRole('consultant')">
          ğŸ‘¨â€âš•ï¸ Register as Consultant
        </button>
      </div>
    </div>

    <!-- Step 2: Registration Form -->
    <form *ngIf="selectedRole" [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="mt-4">
      <div class="form-floating mb-3">
        <input type="text" class="form-control" id="name" placeholder="Full Name" formControlName="name" />
        <label for="name">ğŸ‘¤ Full Name</label>
        <div class="text-danger small" *ngIf="registerForm.get('name')?.touched && registerForm.get('name')?.invalid">
          Name is required.
        </div>
      </div>

      <div class="form-floating mb-3">
        <input type="email" class="form-control" id="email" placeholder="Email" formControlName="email" />
        <label for="email">ğŸ“§ Email Address</label>
        <div class="text-danger small" *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.invalid">
          Valid email is required.
        </div>
      </div>

      <div class="form-floating mb-3">
        <input type="text" class="form-control" id="phone" placeholder="Phone Number" formControlName="phone" />
        <label for="phone">ğŸ“ Phone Number</label>
        <div class="text-danger small" *ngIf="registerForm.get('phone')?.touched && registerForm.get('phone')?.invalid">
          Enter a valid 10-digit phone number.
        </div>
      </div>

      <div class="form-floating mb-3">
        <input type="password" class="form-control" id="password" placeholder="Password" formControlName="password" />
        <label for="password">ğŸ”’ Password</label>
        <div class="text-danger small" *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid">
          Password must be at least 6 characters.
        </div>
      </div>

      <div class="form-floating mb-4">
        <input type="password" class="form-control" id="confirmPassword" placeholder="Confirm Password" formControlName="confirmPassword" />
        <label for="confirmPassword">ğŸ” Confirm Password</label>
        <div class="text-danger small" *ngIf="registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.invalid">
          Confirm password is required.
        </div>
      </div>

      <!-- Hidden field for role -->
      <input type="hidden" formControlName="role" />

      <div class="d-grid">
        <button type="submit" class="btn btn-gradient btn-lg shadow" [disabled]="registerForm.invalid">
          âœ… Register as {{ selectedRole | titlecase }}
        </button>
      </div>
    </form>
  </div>
</div>
